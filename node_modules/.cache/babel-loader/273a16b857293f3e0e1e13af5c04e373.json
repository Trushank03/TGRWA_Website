{"ast":null,"code":"import _slicedToArray from\"/home/bibhu/CelpipSoftware/celpipSW/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import classes from'./ParagraphSections.module.css';import AddQuestionSection from'./Forms/AddQuestionListeningTask';import{getlisteningtaskquestions,deletealisteningtask}from'../../../../../../CommonApps/AllAPICalls';import OneQuestion from'./OneQuestion';import{BsCaretDownFill}from'react-icons/bs';import GroupQuestionsForm from'./Forms/GroupQuestionsForm';import ReactPlayer from'react-player';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OneListeningTask=function OneListeningTask(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showQuestionAddForm=_useState2[0],setShowQuestionAddForm=_useState2[1];//onClick={addQuestionHandler(paragraphId)\nvar addQuestionHandler=function addQuestionHandler(paragraphId){setShowQuestionAddForm(true);};var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),reloadQuestions=_useState4[0],setReloadQuestions=_useState4[1];var closeFormHandler=function closeFormHandler(){setShowQuestionAddForm(false);setReloadQuestions(function(reloadQuestions){return!reloadQuestions;});};var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),questionsData=_useState6[0],getQuestionsData=_useState6[1];useEffect(function(){var listeningTaskId=props.OneTask.id;getlisteningtaskquestions({listeningTaskId:listeningTaskId,getQuestionsData:getQuestionsData});},[props.OneTask,reloadQuestions]);console.log(\"questionsData: \",questionsData);var deleteParagraphHandler=function deleteParagraphHandler(){var listeningTaskId=props.OneTask.id;deletealisteningtask({listeningTaskId:listeningTaskId,props:props});};var reloadHandler=function reloadHandler(){setReloadQuestions(function(reloadQuestions){return!reloadQuestions;});};var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showGroupQuestionsForm=_useState8[0],setShowGroupQuestionsForm=_useState8[1];var groupQuestionsHandler=function groupQuestionsHandler(){setShowGroupQuestionsForm(true);};var closeGroupQuestionFormHandler=function closeGroupQuestionFormHandler(){setShowGroupQuestionsForm(false);};return/*#__PURE__*/_jsxs(\"div\",{className:classes.oneParaSection,children:[showQuestionAddForm&&/*#__PURE__*/_jsx(AddQuestionSection,{onPress:closeFormHandler,listeningTaskId:props.OneTask.id}),showGroupQuestionsForm&&/*#__PURE__*/_jsx(GroupQuestionsForm,{onPress:closeGroupQuestionFormHandler,questionsData:questionsData}),/*#__PURE__*/_jsxs(\"div\",{className:classes.paraTitle,children:[/*#__PURE__*/_jsxs(\"span\",{children:[\" \",/*#__PURE__*/_jsxs(\"b\",{children:[props.OneTask.title,\" \"]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:deleteParagraphHandler,style:{cursor:\"pointer\"},children:\" Delete \"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" Preparation Time : \",props.OneTask.preparation_time,\" mins \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.content,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.paragraphTextSec,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.paragraphTextSec_margin,children:[\"  \",props.OneTask.instructionText,\" \"]}),props.OneTask.instructionImage!==null&&/*#__PURE__*/_jsx(\"img\",{className:classes.listeningImage,src:props.OneTask.instructionImage,alt:\"edr Logo\"}),/*#__PURE__*/_jsx(\"div\",{children:\" Audio/Video File \"}),/*#__PURE__*/_jsx(\"div\",{className:classes.audioFilePlay,children:/*#__PURE__*/_jsx(ReactPlayer,{url:props.OneTask.audioFile,width:\"100%\",height:\"100%\",controls:true})})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.paragraphQuestionSec,children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:classes.addQuestionButton,onClick:addQuestionHandler,children:\" +Add a question \"}),/*#__PURE__*/_jsx(\"div\",{className:classes.allQuestionsOneSec,children:questionsData!==null&&questionsData.map(function(question,index){return/*#__PURE__*/_jsx(OneQuestion,{question:question,reload:reloadHandler},index);})})]})]})]});};export default OneListeningTask;","map":null,"metadata":{},"sourceType":"module"}