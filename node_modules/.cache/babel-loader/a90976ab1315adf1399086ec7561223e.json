{"ast":null,"code":"var _jsxFileName = \"/home/bibhu/CelpipSoftware/celpipSW/src/MainApps/Dashboard/General/components/Teacher/Forms/CourseImageUploadForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport classes from './CourseImageUploadForm.module.css';\nimport { AiFillCloseCircle } from \"react-icons/ai\";\nimport { uploadcoursecardimage } from '../../../../../../CommonApps/AllAPICalls';\nimport FadeLoader from \"react-spinners/FadeLoader\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst override = {\n  display: \"block\",\n  margin: \"0 auto\",\n  borderColor: \"red\"\n};\n\n//const override={}\n\nconst CourseImageUploadForm = props => {\n  _s();\n  let color = \"var(--themeColor);\";\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [changePic, setChangePic] = useState(false);\n  const [imageUpload, setImageUploaded] = useState(\"notUploaded\");\n  const handleChange = e => {\n    if (e.target && e.target.files[0]) {\n      //console.log(\"image: \", [e.target.name]);\n      if (e.target.name === 'card_cover_image') {\n        setSelectedFile({\n          image: e.target.files\n        });\n      }\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    let imageformData = new FormData();\n    let courseId = props.Course.id;\n    //console.log(\"seletced file: \", selectedFile.image[0]);     \n    imageformData.append('card_cover_image', selectedFile.image[0]);\n    setImageUploaded(\"uploading\");\n    uploadcoursecardimage({\n      imageformData,\n      setImageUploaded,\n      courseId,\n      props\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.uploadFormParent,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.uploadForm,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.closeButtonDiv,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: props.onPress,\n          className: classes.closeFormButton,\n          children: [\" \", /*#__PURE__*/_jsxDEV(AiFillCloseCircle, {\n            className: classes.closeButtonIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 82\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: handleChange,\n        name: \"card_cover_image\",\n        accept: \"image/*\",\n        className: classes.image_field\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 10\n      }, this), selectedFile && /*#__PURE__*/_jsxDEV(\"img\", {\n        alt: \"not fount\",\n        width: \"250px\",\n        src: URL.createObjectURL(selectedFile.image[0]),\n        className: classes.previewImage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 12\n      }, this), imageUpload === \"uploading\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.registerDiv,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            margin: 'auto',\n            zIndex: '9999'\n          },\n          children: /*#__PURE__*/_jsxDEV(FadeLoader, {\n            color: color,\n            loading: true,\n            css: override,\n            size: 50\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 20\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 16\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: handleSubmit,\n        className: classes.uploadButton,\n        children: \" Upload \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 6\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 3\n  }, this);\n};\n_s(CourseImageUploadForm, \"7fb6O78MtkCVl4PMLFmXjx0rOv0=\");\n_c = CourseImageUploadForm;\nexport default CourseImageUploadForm;\nvar _c;\n$RefreshReg$(_c, \"CourseImageUploadForm\");","map":{"version":3,"names":["React","useState","classes","AiFillCloseCircle","uploadcoursecardimage","FadeLoader","jsxDEV","_jsxDEV","override","display","margin","borderColor","CourseImageUploadForm","props","_s","color","selectedFile","setSelectedFile","changePic","setChangePic","imageUpload","setImageUploaded","handleChange","e","target","files","name","image","handleSubmit","preventDefault","imageformData","FormData","courseId","Course","id","append","className","uploadFormParent","children","uploadForm","closeButtonDiv","onClick","onPress","closeFormButton","closeButtonIcon","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","accept","image_field","alt","width","src","URL","createObjectURL","previewImage","registerDiv","style","zIndex","loading","css","size","uploadButton","_c","$RefreshReg$"],"sources":["/home/bibhu/CelpipSoftware/celpipSW/src/MainApps/Dashboard/General/components/Teacher/Forms/CourseImageUploadForm.js"],"sourcesContent":["import React,{useState} from 'react';\nimport classes from './CourseImageUploadForm.module.css';\nimport {AiFillCloseCircle} from \"react-icons/ai\";\n\n\nimport {uploadcoursecardimage} from '../../../../../../CommonApps/AllAPICalls';\nimport FadeLoader from \"react-spinners/FadeLoader\";\nconst override: CSSProperties = {\n  display: \"block\",\n  margin: \"0 auto\",\n  borderColor: \"red\",\n};\n\n\n//const override={}\n\n\n\n\n\n\nconst CourseImageUploadForm =(props)=>{\n\n    let color=\"var(--themeColor);\";\n    const [selectedFile, setSelectedFile] = useState(null);\n\n    const [changePic, setChangePic]=useState(false);\n\n    const [imageUpload, setImageUploaded] = useState(\"notUploaded\");\n\n    const handleChange=(e)=>{\n\n\n       if(e.target && e.target.files[0]){\n           //console.log(\"image: \", [e.target.name]);\n            if(e.target.name === 'card_cover_image' ){\n\n                  setSelectedFile({\n                        image: e.target.files\n                  });\n\n            }\n\n       }\n\n    }\n\n\n   const handleSubmit = async(e)=>{\n       e.preventDefault();\n       let imageformData = new FormData();\n       let courseId = props.Course.id;\n       //console.log(\"seletced file: \", selectedFile.image[0]);     \n       imageformData.append('card_cover_image', selectedFile.image[0]);\n       setImageUploaded(\"uploading\");\n       uploadcoursecardimage({imageformData, setImageUploaded,courseId, props});\n\n    }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nreturn (\n\n  <div className={classes.uploadFormParent}>\n\n     <div className={classes.uploadForm}>\n         <div className={classes.closeButtonDiv}>\n            <button onClick={props.onPress} className={classes.closeFormButton}> <AiFillCloseCircle className={classes.closeButtonIcon}/> </button>\n         </div>\n\n         <input\n              type=\"file\"\n              onChange={handleChange}\n              name=\"card_cover_image\"\n              accept=\"image/*\"\n              className={classes.image_field}\n           />\n\n\n        { selectedFile &&\n           <img alt=\"not fount\" width={\"250px\"} src={URL.createObjectURL(selectedFile.image[0])} className={classes.previewImage} />\n         }\n\n\n\n         {  imageUpload === \"uploading\" &&\n          <div className={classes.registerDiv}>\n\n               <div style={{margin:'auto',zIndex:'9999'}}>\n                   <FadeLoader color={color} loading={true} css={override} size={50}   />\n               </div>\n          </div>\n        }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n         <button type=\"button\" onClick={handleSubmit} className={classes.uploadButton}> Upload </button>\n\n\n     </div>\n  </div>\n);\n} \n\nexport default CourseImageUploadForm;\n\n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}