{"ast":null,"code":"import _slicedToArray from\"/home/bibhu/CelpipSoftware/celpipSW/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Route,Switch}from'react-router-dom';//import logo from './logo.svg';\nimport'./App.css';import Header from'./components/Header/Header';//import HeaderNew from './components/Header/HeaderV2';\nimport SideNavBar from'./components/SideNavBar/SideNavBar';import SideToolBar from'./components/SideNavBar/SideToolBar';import SideBarDashboard from'./components/SideNavBar/SideBarDashboard';import UserProfile from'./MainApps/Account/UserProfile/UserProfile';import Settings from'./MainApps/Account/Settings/Settings';//Import Applications\nimport General from'./MainApps/Dashboard/General/General';import MeetingsOverview from'./MainApps/Meetings/Overview';import MeetingsDetail from'./MainApps/Meetings/Detail/Detail';import Contacts from'./MainApps/Contacts/Contacts';import{w3cwebsocket as W3CWebSocket}from'websocket';import{useMediaPredicate}from\"react-media-hook\";//import CentralSocketConnection from './CentralSocketConnection';\nimport{getcoursesbyCourseId,getuser,getcoursesbyCourseIdArray}from'./CommonApps/AllAPICalls';/*\nfunction Connect (){\n\n   let client;\n   let isConnected;\t\n\n   function start () {\n    \n       client = new W3CWebSocket('wss://td7ru13iq4.execute-api.ca-central-1.amazonaws.com/production');\n\n       client.onclose = () => {\n         isConnected=false;\n\t console.log(\"webSocket gets disconnected\");      \n         setTimeout(start, 3000);\n       }\n\n       client.onopen=()=>{\n         isConnected=true;\n\t console.log(\"webSocket gets connected\");      \n       }\n\n\n     client.onmessage = (event)=>{\n     const dataFromServer = JSON.parse(event.data);\n     console.log(\"Message receved-3\", event.data);\n   }\n\n\n\n\n\n\n   }\n\n   start();\n\n   return {\n       getClient: () => client,\n   }\n}\n\nconst wcInstance = Connect().getClient();\n\n\n*/ /*\n      <Route exact path='/course/syllabus' >\n        <Syllabus\n            sideNavBarWidth={sideNavBarWidth}\n            passMountInfo={setCourseMounted}\n            selectedCourse={selectedCourse}\n            userData={userData}\n        />\n      </Route>\n*/import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){console.log(\" Main App Page reredering-----------------\");var _useState=useState(false),_useState2=_slicedToArray(_useState,2),wcConnected=_useState2[0],setWCConnected=_useState2[1];var wcInstance;// wcInstance.onmessage = (event)=>{\n//  const dataFromServer = JSON.parse(event.data);\n//  console.log(\"Message receved-3\", event.data);\n//}\nvar sideBarBreakPoint='850px';var smallerThan750px=useMediaPredicate(\"(max-width: 990px )\");var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),rerender=_useState4[0],setRerender=_useState4[1];var rerenderHandler=function rerenderHandler(){setRerender(!rerender);};var _useState5=useState('var(--sideNavBarWidth)'),_useState6=_slicedToArray(_useState5,2),sideNavBarWidth=_useState6[0],setWidth=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),contract=_useState8[0],setContract=_useState8[1];var expandHandler=function expandHandler(){//console.log(\"expand handler called\");\ncontract&&setWidth('var(--sideNavBarWidthOnContract)');!contract&&setWidth('var(--sideNavBarWidth)');setContract(!contract);};var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),dashboardMounted=_useState10[0],setDashboardMounted=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),courseMounted=_useState12[0],setCourseMounted=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),messagesMounted=_useState14[0],setMessagesMounted=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),emailMounted=_useState16[0],setEmailMounted=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),contactsMounted=_useState18[0],setContactsMounted=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),discussionMounted=_useState20[0],setDiscussionMounted=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),classMounted=_useState22[0],setClassMounted=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),tasksMounted=_useState24[0],setTasksMounted=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),booksMounted=_useState26[0],setBooksMounted=_useState26[1];var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),examMounted=_useState28[0],setExamMounted=_useState28[1];var _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),classmatesMounted=_useState30[0],setClassmatesMounted=_useState30[1];var _useState31=useState(false),_useState32=_slicedToArray(_useState31,2),teacherMounted=_useState32[0],setTeacherMounted=_useState32[1];//const [prepareMounted, setProgressMounted] = useState(false);\n//const [analyticsMounted, setAnalticsMounted] = useState(false);\t\nvar _useState33=useState(false),_useState34=_slicedToArray(_useState33,2),achievementsMounted=_useState34[0],setAchievementsMounted=_useState34[1];var _useState35=useState(false),_useState36=_slicedToArray(_useState35,2),gradesMounted=_useState36[0],setGradesMounted=_useState36[1];//const [calenderMounted, setCalenderMounted] = useState(false);\n//const [diaryMounted, setDiaryMounted] = useState(false);\n//const [helpcenterMounted, setHelpCenterMounted] = useState(false);\nvar _useState37=useState(false),_useState38=_slicedToArray(_useState37,2),generalChatMounted=_useState38[0],setGeneralChatMounted=_useState38[1];var _useState39=useState(null),_useState40=_slicedToArray(_useState39,2),selectedCourse=_useState40[0],getCourseData=_useState40[1];//const [courseData, getCourseData] = useState([]);\nvar selectedCourseId=localStorage.getItem('preferredCourseId');useEffect(function(){//console.log(\"useEffect-1\");\t   \nvar courseId=selectedCourseId;getcoursesbyCourseId({courseId:courseId,getCourseData:getCourseData});return function(){getCourseData(function(selectedCourse){return null;});};},[selectedCourseId,rerender]);var _useState41=useState({\"id\":null,\"dashboardcourses\":[],\"dashboard_courses\":[],\"usertype\":1,\"noticeids\":[]}),_useState42=_slicedToArray(_useState41,2),userData=_useState42[0],setData=_useState42[1];//const [userData,setData] =useState(null);\nuseEffect(function(){//console.log(\"useEffect-2\");   \ngetuser({setData:setData});},[rerender]);//console.log(\"userData: \", userData);\nuseEffect(function(){smallerThan750px&&setWidth('var(--sideNavBarWidthOnContract)');smallerThan750px&&setContract(false);!smallerThan750px&&setWidth('var(--sideNavBarWidth)');!smallerThan750px&&setContract(true);},[smallerThan750px]);var _useState43=useState([]),_useState44=_slicedToArray(_useState43,2),dashboardCourses=_useState44[0],getDashboardCourses=_useState44[1];//useState(userData.id !==null? userData.dashboard_courses: []);\n// console.log(\"userData: \", userData); \nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"edrapp\",children:[/*#__PURE__*/_jsx(Header,{onPress:expandHandler,selectedCourse:selectedCourse,userData:userData,dashboardCourses:userData.dashboard_courses,rerender:rerenderHandler}),selectedCourseId===null&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(SideToolBar,{toolBarWidth:sideNavBarWidth,toolBarBkgColor:\"var(--sideToolBarBkgColor)\"}),/*#__PURE__*/_jsx(SideBarDashboard,{sideNavBarWidth:sideNavBarWidth,generalChatMounted:generalChatMounted,homeMounted:dashboardMounted,emailMounted:emailMounted,contactsMounted:contactsMounted,userData:userData,setWidth:setWidth,setContract:setContract})]}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/app/account/userprofile\",children:/*#__PURE__*/_jsx(UserProfile,{sideNavBarWidth:sideNavBarWidth,selectedCourse:selectedCourse,userData:userData,rerender:rerenderHandler})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/app/account/settings\",children:/*#__PURE__*/_jsx(Settings,{sideNavBarWidth:sideNavBarWidth,selectedCourse:selectedCourse,userData:userData})}),/*#__PURE__*/_jsx(Route,{path:\"/app/dashboard/general\",children:/*#__PURE__*/_jsx(General,{sideNavBarWidth:sideNavBarWidth,passMountInfo:setDashboardMounted,selectedCourse:selectedCourse,dashboardCourses:userData.dashboard_courses,userData:userData,socketObj:wcInstance,rerender:rerenderHandler})}),/*#__PURE__*/_jsx(Route,{excat:true,path:\"/home/contacts\",children:/*#__PURE__*/_jsx(Contacts,{sideNavBarWidth:sideNavBarWidth,passMountInfo:setContactsMounted,userData:userData})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/meetings/overview\",children:/*#__PURE__*/_jsx(MeetingsOverview,{sideNavBarWidth:sideNavBarWidth,passMountInfo:setAchievementsMounted,selectedCourse:selectedCourse,userData:userData,dashboardCourses:dashboardCourses,onPress:rerenderHandler})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/meetings/detail\",children:/*#__PURE__*/_jsx(MeetingsDetail,{sideNavBarWidth:sideNavBarWidth,passMountInfo:setAchievementsMounted,selectedCourse:selectedCourse,userData:userData})})]})]});return/*#__PURE__*/_jsx(\"div\",{children:\" \"});}export default App;","map":null,"metadata":{},"sourceType":"module"}