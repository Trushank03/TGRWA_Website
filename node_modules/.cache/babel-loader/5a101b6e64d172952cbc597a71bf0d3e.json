{"ast":null,"code":"import _slicedToArray from\"/home/bibhu/CelpipSoftware/celpipSW/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import classes from'./ParagraphSections.module.css';import AddQuestionSection from'./Forms/AddQuestionSection';import{getallparagraphquestions,deleteaparagraph,flipparasensections}from'../../../../../../CommonApps/AllAPICalls';import OneQuestion from'./OneQuestion';import OneQuestionGrouped from'./OneQuestionGrouped';import{BsCaretDownFill}from'react-icons/bs';import{HiOutlineSwitchVertical}from'react-icons/hi';import GroupQuestionsForm from'./Forms/GroupQuestionsForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OneParagraphSection=function OneParagraphSection(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showQuestionAddForm=_useState2[0],setShowQuestionAddForm=_useState2[1];//onClick={addQuestionHandler(paragraphId)\nvar addQuestionHandler=function addQuestionHandler(paragraphId){setShowQuestionAddForm(true);};var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),reloadQuestions=_useState4[0],setReloadQuestions=_useState4[1];var closeFormHandler=function closeFormHandler(){setShowQuestionAddForm(false);setReloadQuestions(function(reloadQuestions){return!reloadQuestions;});};var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),questionsData=_useState6[0],getQuestionsData=_useState6[1];useEffect(function(){var paragraphId=props.oneParagraph.id;getallparagraphquestions({paragraphId:paragraphId,getQuestionsData:getQuestionsData});},[props.oneParagraph,reloadQuestions]);console.log(\"questionsData: \",questionsData);var deleteParagraphHandler=function deleteParagraphHandler(){var paragraphId=props.oneParagraph.id;deleteaparagraph({paragraphId:paragraphId,props:props});};var reloadHandler=function reloadHandler(){setReloadQuestions(function(reloadQuestions){return!reloadQuestions;});};var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showGroupQuestionsForm=_useState8[0],setShowGroupQuestionsForm=_useState8[1];var groupQuestionsHandler=function groupQuestionsHandler(){setShowGroupQuestionsForm(true);};var closeGroupQuestionFormHandler=function closeGroupQuestionFormHandler(){setShowGroupQuestionsForm(false);setReloadQuestions(function(reloadQuestions){return!reloadQuestions;});};var _useState9=useState({value1:props.oneParagraph.flipQnsec,value2:props.oneParagraph.flipQnsec===\"yes\"?\"no\":\"yes\"}),_useState10=_slicedToArray(_useState9,2),isSwapped=_useState10[0],setIsSwapped=_useState10[1];var flipSectionHandler=function flipSectionHandler(){var paragraphId=props.oneParagraph.id;var flipvalue=props.oneParagraph.flipQnsec===\"no\"?\"yes\":\"no\";flipparasensections({paragraphId:paragraphId,flipvalue:flipvalue,props:props,setIsSwapped:setIsSwapped});};console.log(\"one Paragraph: \",isSwapped);return/*#__PURE__*/_jsxs(\"div\",{className:classes.oneParaSection,children:[showQuestionAddForm&&/*#__PURE__*/_jsx(AddQuestionSection,{onPress:closeFormHandler,selectedParagraphId:props.oneParagraph.id}),showGroupQuestionsForm&&/*#__PURE__*/_jsx(GroupQuestionsForm,{onPress:closeGroupQuestionFormHandler,questionsData:questionsData,paragraphId:props.oneParagraph.id}),/*#__PURE__*/_jsxs(\"div\",{className:classes.paraTitle,children:[/*#__PURE__*/_jsxs(\"span\",{children:[\" \",/*#__PURE__*/_jsxs(\"b\",{children:[props.oneParagraph.title,\" \"]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:deleteParagraphHandler,style:{cursor:\"pointer\"},children:\" Delete \"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" Time : \",props.oneParagraph.duration,\" mins \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.content,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.paragraphTextSec,children:[props.oneParagraph.contentType===\"image\"&&/*#__PURE__*/_jsx(\"img\",{className:classes.userImage,src:props.oneParagraph.paragraphFile,alt:\"edr Logo\"}),props.oneParagraph.contentType===\"text\"&&/*#__PURE__*/_jsxs(\"div\",{className:classes.paragraphTextSec_margin,children:[\"  \",props.oneParagraph.paragraphText,\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.paragraphQuestionSec,children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:classes.addQuestionButton,onClick:addQuestionHandler,children:\" +Add a question \"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:classes.addQuestionButton,onClick:groupQuestionsHandler,children:\" group questions in one paragraph \"}),/*#__PURE__*/_jsx(\"div\",{className:classes.allQuestionsOneSec,children:questionsData!==null&&questionsData.map(function(question,index){if(question.grouped===isSwapped.value1){return undefined;}if(question.grouped===isSwapped.value2){if(isSwapped.value2===\"no\"){return/*#__PURE__*/_jsx(OneQuestion,{question:question,reload:reloadHandler},index);}else{return/*#__PURE__*/_jsx(OneQuestionGrouped,{question:question,reload:reloadHandler},index);}}})}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:classes.updownSwitch,onClick:flipSectionHandler,children:[\" \",/*#__PURE__*/_jsx(HiOutlineSwitchVertical,{}),\"  \"]}),/*#__PURE__*/_jsx(\"div\",{className:classes.allQuestionsOneSec,children:questionsData!==null&&questionsData.map(function(question,index){if(question.grouped===isSwapped.value2){return undefined;}if(question.grouped===isSwapped.value1){if(isSwapped.value2===\"yes\"){return/*#__PURE__*/_jsx(OneQuestion,{question:question,reload:reloadHandler},index);}else{return/*#__PURE__*/_jsx(OneQuestionGrouped,{question:question,reload:reloadHandler},index);}}})})]})]})]});};export default OneParagraphSection;","map":null,"metadata":{},"sourceType":"module"}