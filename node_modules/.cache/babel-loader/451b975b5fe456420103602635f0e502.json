{"ast":null,"code":"import _defineProperty from\"/home/bibhu/CelpipSoftware/celpipSW/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/bibhu/CelpipSoftware/celpipSW/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/bibhu/CelpipSoftware/celpipSW/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from'react';import classes from'./CreateExamForm.module.css';import{AiFillCloseCircle}from\"react-icons/ai\";import{OptionField,TextInput,TextAreaInput,TextAreaInputSmall}from'../../../../../../../CommonApps/FormInputObjects';import{addaparagraphsection,addquestiontolisteningtask}from'../../../../../../../CommonApps/AllAPICalls';import{BsTrash}from'react-icons/bs';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddQuestionListeningTask=function AddQuestionListeningTask(props){var initialFormData=Object.freeze({questionNum:\"\",questionText:\"\",listeningTaskId:props.listeningTaskId!==null?props.listeningTaskId:null,answerOptions:{\"option0\":\"first option\"},duration:\"0.5\"});var _useState=useState(initialFormData),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],updateFormData=_useState2[1];var handleSubmit=function handleSubmit(e){e.preventDefault();if(formData.questionNum===\"\"&&!isNumeric(formData.questionNum)){alert('please enter a question number ');return null;}if(formData.questionText===\"\"){alert('please fill question text');return null;}if(formData.listeningTaskId===null){alert('No Paragraph Id selected');return null;}addquestiontolisteningtask({formData:formData,props:props});};console.log(\"formData: \",formData);var isNumeric=function isNumeric(str){if(typeof str!=\"string\")return false;// we only process strings!  \nreturn!isNaN(str)&&// use type coercion to parse the _entirety_ of the string (`parseFloat` alone does not do this)...\n!isNaN(parseFloat(str));// ...and ensure strings of whitespace fail\n};var handleChange=function handleChange(e){if(e.target.name===\"questionNum\"&&!isNumeric(e.target.value)){alert(\"Please enter only digit\");return null;}updateFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};var testChangeHandler=function testChangeHandler(e){console.log(\"name: \",e.target.name,e.target.value);var name_=e.target.name;var newObj=_objectSpread({},formData.answerOptions);newObj[name_]=e.target.value;updateFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},'answerOptions',newObj)));};var addOneMoreOptionHandler1=function addOneMoreOptionHandler1(){var length_=Object.keys(formData.answerOptions).length;var Key_=\"option\"+length_;var Val_=\"\";var answerOptions_=\"answerOptions\";formData.answerOptions[Key_]=Val_;updateFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},answerOptions_,formData.answerOptions)));};var deleteOptionHandler=function deleteOptionHandler(name_){console.log(\"optionname: \",name_);var newObj=_objectSpread({},formData.answerOptions);delete newObj[name_];updateFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},'answerOptions',newObj)));};return/*#__PURE__*/_jsx(\"div\",{className:classes.createExamFormParent,children:/*#__PURE__*/_jsxs(\"form\",{className:classes.createExamForm,onSubmit:handleSubmit,style:{width:\"1000px\"},children:[/*#__PURE__*/_jsx(\"div\",{className:classes.closeButtonDiv,children:/*#__PURE__*/_jsx(\"button\",{onClick:props.onPress,className:classes.closeFormButton,children:/*#__PURE__*/_jsx(AiFillCloseCircle,{className:classes.closeButtonIcon})})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.inputBoxesDiv,children:[/*#__PURE__*/_jsx(TextInput,{handleChange:handleChange,label:\"Question Number (only digit)\",name:\"questionNum\",placeholder:\"1\",requirement:\"*\"}),/*#__PURE__*/_jsx(TextInput,{handleChange:handleChange,label:\"Duration\",name:\"duration\",placeholder:\"1\",requirement:\"*\"}),/*#__PURE__*/_jsx(TextAreaInputSmall,{handleChange:handleChange,label:\"Question Text\",name:\"questionText\",placeholder:\"Maria\\u2019s mother is now\",requirement:\"*\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:classes.addOptionButton,onClick:addOneMoreOptionHandler1,children:\" +Add an answer option \"}),Object.keys(formData.answerOptions).map(function(key,index){//let value_=obj[\"option\"+index];\nvar name_=\"option\"+index;return/*#__PURE__*/_jsxs(\"div\",{className:classes.optionsDiv,children:[/*#__PURE__*/_jsx(\"input\",{className:classes.oneQuestionAnswerOption,type:\"text\",name:\"option\"+index,value:formData.answerOptions[name_],onChange:testChangeHandler}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:classes.optionDelButton,onClick:function onClick(){return deleteOptionHandler(name_);},children:[\" \",/*#__PURE__*/_jsx(BsTrash,{}),\" \"]})]},index);}),/*#__PURE__*/_jsx(\"div\",{className:classes.submitButtonDiv,children:/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:classes.submit_button,children:[/*#__PURE__*/_jsx(\"b\",{children:\" Create question\"}),\" \"]})})]})]})});};export default AddQuestionListeningTask;","map":null,"metadata":{},"sourceType":"module"}