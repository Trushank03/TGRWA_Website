{"ast":null,"code":"import _defineProperty from\"/home/bibhu/CelpipSoftware/celpipSW/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/bibhu/CelpipSoftware/celpipSW/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/bibhu/CelpipSoftware/celpipSW/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import{Route,Switch,useHistory}from'react-router-dom';import classes from'./TestSite.module.css';import{TextInput}from'./../CommonApps/FormInputObjects';import{verifycandidatefortestlogin}from'./../CommonApps/AllAPICalls';import TestHomePage from'./TestHomePage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var TestSite=function TestSite(){var initialFormData=Object.freeze({name:\"\",password:\"\"});var _useState=useState(initialFormData),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],updateFormData=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),testId=_useState4[0],setTestId=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),responseId=_useState6[0],setResponseId=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),testURL=_useState8[0],setTestURL=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),testPath=_useState10[0],setTestPath=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),authenticated=_useState12[0],setAuthenticated=_useState12[1];useEffect(function(){var testURL=window.location.href;var pattern='/takethistest/[1-9]+/[1-9]+';var result=testURL.match(pattern);if(result){var urlarray=testURL.split(\"/\");var response_Id=urlarray[urlarray.length-1];var test_Id=urlarray[urlarray.length-2];setTestId(test_Id);setResponseId(response_Id);setTestPath(result+\"/\");}},[]);var handleChange=function handleChange(e){updateFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();if(formData.name===\"\"){alert('please enter your name');return null;}if(formData.password===\"\"){alert('please enter password');return null;}var examId=testId;var password=formData.password;var name=formData.name;if(testId!==null&&responseId!==null&&password!==null){verifycandidatefortestlogin({examId:examId,responseId:responseId,password:password,name:name,setAuthenticated:setAuthenticated});}};console.log(\"formData: \",formData);return/*#__PURE__*/_jsxs(\"div\",{className:classes.testSite,children:[!authenticated&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:classes.homePageMessage,children:/*#__PURE__*/_jsx(\"h2\",{children:\"Welcome!! Are you ready to take the Test?\"})}),/*#__PURE__*/_jsx(\"div\",{className:classes.loginInfo,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextInput,{handleChange:handleChange,label:\"Full Name\",name:\"name\",placeholder:\"e.g. John Stupak\",requirement:\"*\"}),/*#__PURE__*/_jsx(TextInput,{handleChange:handleChange,label:\"Test Unique password\",name:\"password\",placeholder:\"e.g. 123426\",requirement:\"*\"}),/*#__PURE__*/_jsx(\"button\",{type:\"buttom\",className:classes.submitButton,children:\" Submit \"})]})})]}),authenticated&&/*#__PURE__*/_jsx(Switch,{children:/*#__PURE__*/_jsx(Route,{exact:true,path:testPath,children:/*#__PURE__*/_jsx(TestHomePage,{examId:testId,responseId:responseId})})})]});};export default TestSite;","map":null,"metadata":{},"sourceType":"module"}