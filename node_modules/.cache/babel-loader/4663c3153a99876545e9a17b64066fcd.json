{"ast":null,"code":"import _slicedToArray from\"/home/bibhu/CelpipSoftware/celpipSW/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import classes from'./MeetingViewShort_v2.module.css';import{BsFillCheckSquareFill}from'react-icons/bs';import{useHistory}from\"react-router-dom\";import{BsFillTrashFill,BsPeopleFill,BsFillCameraVideoFill,BsLink45Deg,BsThreeDotsVertical}from'react-icons/bs';import{BiEdit}from'react-icons/bi';//import {FiExternalLink} from 'react-icons/fi';\nimport{deletemeeting,getuserbyId}from'../../../../CommonApps/AllAPICalls';import EditMeetingForm from'../../../Meetings/Overview/components/Forms/EditMeetingForm';import{MdDoubleArrow}from'react-icons/md';import MeetingShortViewDropDown from'./MeetingShortViewDropDown';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MeetingViewShort=function MeetingViewShort(props){console.log(\"meeting: \",props.Meeting);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),editMeeting=_useState2[0],setEditMeeting=_useState2[1];var openMeetingRoomHandler=function openMeetingRoomHandler(){var meetingLink=props.Meeting.meetingLink;window.open(meetingLink,\"_blank\");};var viewMeetingDetailHandler=function viewMeetingDetailHandler(){var meetingId=props.Meeting.id;props.goToMeetingDetail({meetingId:meetingId});};var meetingCardHandler=function meetingCardHandler(){};var local_Time=function local_Time(_ref){var datetime=_ref.datetime;var DatetimeLocalFull=new Date(datetime);var DatetimeLocalFullStr=String(DatetimeLocalFull);var dayStr=DatetimeLocalFullStr.split(\" \").at(0);var dateStr=DatetimeLocalFullStr.split(\" \").at(2);var month=DatetimeLocalFullStr.split(\" \").at(1);var year=DatetimeLocalFullStr.split(\" \").at(3);var fullTimeLocal=DatetimeLocalFullStr.split(\" \").at(4);var fullTimeLocalStr=String(fullTimeLocal);var localTimeHour=fullTimeLocalStr.split(\":\").at(0);var localTimeMin=fullTimeLocalStr.split(\":\").at(1);var ampm=\"am\";if(localTimeHour===12){ampm='pm';}else if(localTimeHour===0){localTimeHour=12;}else if(localTimeHour>12){localTimeHour-=12;ampm='pm';}var DateMonth=String(dateStr)+\" \"+String(month)+\" \"+year;var dayName=String(dayStr);var time=String(localTimeHour)+\":\"+String(localTimeMin)+String(ampm);return[time,DateMonth];};var datetime=props.Meeting.datetime;var valuesTnD=local_Time({datetime:datetime});var classTime=valuesTnD[0];var classDateMonthYear=valuesTnD[1];var _useState3=useState({usertitle:'',firstname:'',lastname:''}),_useState4=_slicedToArray(_useState3,2),host=_useState4[0],setUserData=_useState4[1];useEffect(function(){var userId=props.Meeting.creater;getuserbyId({userId:userId,setUserData:setUserData});},[props.Meeting.creater]);var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showDropDownButtons=_useState6[0],setShowDropDownButtons=_useState6[1];var showDropDownButtonsHandler=function showDropDownButtonsHandler(){setShowDropDownButtons(function(showDropDownButtons){return true;});};var closeEditFormHandler=function closeEditFormHandler(){setEditMeeting(false);props.rerender();};var editMeetingHandler=function editMeetingHandler(){if(Number(props.userData.id)===Number(props.Meeting.creater)){setEditMeeting(true);}else{alert(\"Only hosts have edit rights\");}};return/*#__PURE__*/_jsxs(\"div\",{className:classes.courseViewDashboard,onClick:meetingCardHandler,children:[editMeeting&&/*#__PURE__*/_jsx(EditMeetingForm,{onPress:closeEditFormHandler,userDataUpdated:props.userDataUpdated,meeting:props.Meeting}),/*#__PURE__*/_jsxs(\"div\",{className:classes.titleDiv,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.leftInfo,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.classInfo,children:/*#__PURE__*/_jsx(\"div\",{className:classes.classData,children:/*#__PURE__*/_jsxs(\"b\",{children:[\" \",classDateMonthYear]})})}),/*#__PURE__*/_jsx(\"div\",{className:classes.topicsTitle,children:/*#__PURE__*/_jsxs(\"span\",{className:classes.classNum,children:[\" \",/*#__PURE__*/_jsx(\"b\",{children:\"# \"+props.Meeting.id}),\" \",props.Meeting.name]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.toprightBoxes,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.classStatus,children:[props.Meeting.meetingStatus===\"scheduled\"&&/*#__PURE__*/_jsx(\"b\",{style:{color:\"green\"},children:props.Meeting.meetingStatus}),props.Meeting.meetingStatus===\"postponed\"&&/*#__PURE__*/_jsx(\"b\",{style:{color:\"blue\"},children:props.Meeting.meetingStatus}),props.Meeting.meetingStatus===\"cancelled\"&&/*#__PURE__*/_jsx(\"b\",{style:{color:\"red\"},children:props.Meeting.meetingStatus})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:classes.dotsButton,onClick:showDropDownButtonsHandler,children:[\" \",/*#__PURE__*/_jsx(BsThreeDotsVertical,{}),\" \"]}),showDropDownButtons&&/*#__PURE__*/_jsx(MeetingShortViewDropDown,{setDropDown:setShowDropDownButtons,editMeetingHandler:editMeetingHandler})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.lowerDiv,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.leftLowerDiv,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.authorDiv,children:[\" host: \",host.usertitle+\" \"+host.firstname+\" \"+host.lastname]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.addressDiv,children:[/*#__PURE__*/_jsx(\"span\",{children:\"Time & Address : \"}),/*#__PURE__*/_jsxs(\"span\",{className:classes.classTime,children:[\" \",/*#__PURE__*/_jsx(\"b\",{})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.rightLowerDiv,children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:classes.joinClassButton,onClick:openMeetingRoomHandler,children:[\" \",/*#__PURE__*/_jsx(\"b\",{children:\"Join Meeting\"}),\" \"]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:classes.viewClassButton,onClick:viewMeetingDetailHandler,children:[/*#__PURE__*/_jsx(\"span\",{children:\"View Detail\"}),/*#__PURE__*/_jsx(MdDoubleArrow,{className:classes.viewdetailIcon})]})]})]})]});};export default MeetingViewShort;","map":null,"metadata":{},"sourceType":"module"}