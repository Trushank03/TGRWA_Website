{"ast":null,"code":"var _jsxFileName = \"/home/bibhu/CelpipSoftware/celpipSW/src/MainApps/Dashboard/General/components/Teacher/Exams/ExamResponses.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport classes from './ExamResponses.module.css';\nimport AddResponsePlaceHolder from './Forms/AddResponsePlaceHolder';\nimport { getexamresponses } from '../../../../../../CommonApps/AllAPICalls';\nimport OneResponseShort from './OneResponseShort';\nimport OneDetailResponse from './OneDetailResponse';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ExamResponses = props => {\n  _s();\n\n  const [selectedResponseId, setSelectedResponseId] = useState(null);\n  const [responseData, setResponseData] = useState(null);\n  const [rerender, setRerender] = useState(false);\n  const [showAddResponseForm, setShowAddResponseForm] = useState(false);\n\n  const showAddResponseFormHandler = () => {\n    setShowAddResponseForm(true);\n  };\n\n  const closeFormHandler = () => {\n    setShowAddResponseForm(false);\n  };\n\n  useEffect(() => {\n    let examId = props.oneExamData.id;\n    getexamresponses({\n      examId,\n      setResponseData\n    });\n  }, [showAddResponseForm, rerender]);\n  console.log(\"One Exam response: \", responseData);\n\n  const rerenderHandler = () => {\n    setRerender(rerender => !rerender);\n  };\n\n  const selectResponseHandler = responseId => {\n    console.log(\"responseId: \", responseId);\n    setSelectedResponseId(selectedResponseId => responseId);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.examResponse,\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      className: classes.responsePlaceHolder,\n      onClick: showAddResponseFormHandler,\n      children: \" +Create a place holder\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }, this), showAddResponseForm && /*#__PURE__*/_jsxDEV(AddResponsePlaceHolder, {\n      oneExamData: props.oneExamData,\n      onPress: closeFormHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 8\n    }, this), selectedResponseId === null && responseData !== null && responseData.map((OneResponse, index) => {\n      return /*#__PURE__*/_jsxDEV(OneResponseShort, {\n        OneResponse: OneResponse,\n        rerender: rerenderHandler,\n        examId: props.oneExamData.id,\n        selectResponse: selectResponseHandler\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this);\n    }), selectedResponseId !== null && /*#__PURE__*/_jsxDEV(OneDetailResponse, {\n      responseId: selectedResponseId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 8\n  }, this);\n};\n\n_s(ExamResponses, \"5IF3ZJ195xaCigYRVck0ZOqQt+4=\");\n\n_c = ExamResponses;\nexport default ExamResponses;\n\nvar _c;\n\n$RefreshReg$(_c, \"ExamResponses\");","map":{"version":3,"names":["useState","useEffect","classes","AddResponsePlaceHolder","getexamresponses","OneResponseShort","OneDetailResponse","ExamResponses","props","selectedResponseId","setSelectedResponseId","responseData","setResponseData","rerender","setRerender","showAddResponseForm","setShowAddResponseForm","showAddResponseFormHandler","closeFormHandler","examId","oneExamData","id","console","log","rerenderHandler","selectResponseHandler","responseId","examResponse","responsePlaceHolder","map","OneResponse","index"],"sources":["/home/bibhu/CelpipSoftware/celpipSW/src/MainApps/Dashboard/General/components/Teacher/Exams/ExamResponses.js"],"sourcesContent":["import {useState, useEffect} from 'react';\nimport classes from './ExamResponses.module.css';\n\n\nimport AddResponsePlaceHolder from './Forms/AddResponsePlaceHolder';\n\nimport {getexamresponses} from '../../../../../../CommonApps/AllAPICalls';\n\n\nimport OneResponseShort from './OneResponseShort';\n\n\nimport OneDetailResponse from './OneDetailResponse';\n\n\nconst ExamResponses=(props)=>{\n\n\n\n   const [selectedResponseId, setSelectedResponseId] = useState(null);\n\n    const [responseData, setResponseData] = useState(null);\n\n    const [rerender, setRerender] = useState(false);\n\n    const [showAddResponseForm, setShowAddResponseForm] = useState(false);\n\n    const showAddResponseFormHandler=()=>{\n      setShowAddResponseForm(true);\n    }\n\n    const closeFormHandler=()=>{\n      setShowAddResponseForm(false);   \t  \n    }\n\n\n    useEffect(()=>{\n     let examId = props.oneExamData.id;\n     getexamresponses({examId, setResponseData}); \n\n    },[showAddResponseForm, rerender]);\n\n\n    console.log(\"One Exam response: \", responseData);\n\n\n    const rerenderHandler=()=>{\n\n       setRerender(rerender=>!rerender);\n\n    }\n\n    const selectResponseHandler=(responseId)=>{\n\n       console.log(\"responseId: \", responseId);\t    \n       setSelectedResponseId(selectedResponseId=>responseId);\n\n    }\n\n\n\n\n\nreturn <div className={classes.examResponse}>\n\n    <button type=\"button\" className={classes.responsePlaceHolder} onClick={showAddResponseFormHandler}> +Create a place holder</button>\n\n    { showAddResponseForm &&\n       <AddResponsePlaceHolder oneExamData={props.oneExamData}\n\t                     onPress={closeFormHandler}\t                     />\n    }\n\n\n    { selectedResponseId === null && responseData !==null && responseData.map((OneResponse, index)=>{\n\n         return <OneResponseShort key={index} \n\t                          OneResponse={OneResponse} \n\t                          rerender={rerenderHandler}\n\t                          examId = {props.oneExamData.id}\n\t                          selectResponse = {selectResponseHandler}\n\t\t                  />\n\n         })\t   \n    }\n\n\n    { selectedResponseId !==null &&\n\n        <OneDetailResponse responseId = {selectedResponseId}/> \n\n    }\t\t    \n\n\n\n\n\n\n\n</div>\n\n}\n\n\nexport default ExamResponses;\n"],"mappings":";;;AAAA,SAAQA,QAAR,EAAkBC,SAAlB,QAAkC,OAAlC;AACA,OAAOC,OAAP,MAAoB,4BAApB;AAGA,OAAOC,sBAAP,MAAmC,gCAAnC;AAEA,SAAQC,gBAAR,QAA+B,0CAA/B;AAGA,OAAOC,gBAAP,MAA6B,oBAA7B;AAGA,OAAOC,iBAAP,MAA8B,qBAA9B;;;AAGA,MAAMC,aAAa,GAAEC,KAAD,IAAS;EAAA;;EAI1B,MAAM,CAACC,kBAAD,EAAqBC,qBAArB,IAA8CV,QAAQ,CAAC,IAAD,CAA5D;EAEC,MAAM,CAACW,YAAD,EAAeC,eAAf,IAAkCZ,QAAQ,CAAC,IAAD,CAAhD;EAEA,MAAM,CAACa,QAAD,EAAWC,WAAX,IAA0Bd,QAAQ,CAAC,KAAD,CAAxC;EAEA,MAAM,CAACe,mBAAD,EAAsBC,sBAAtB,IAAgDhB,QAAQ,CAAC,KAAD,CAA9D;;EAEA,MAAMiB,0BAA0B,GAAC,MAAI;IACnCD,sBAAsB,CAAC,IAAD,CAAtB;EACD,CAFD;;EAIA,MAAME,gBAAgB,GAAC,MAAI;IACzBF,sBAAsB,CAAC,KAAD,CAAtB;EACD,CAFD;;EAKAf,SAAS,CAAC,MAAI;IACb,IAAIkB,MAAM,GAAGX,KAAK,CAACY,WAAN,CAAkBC,EAA/B;IACAjB,gBAAgB,CAAC;MAACe,MAAD;MAASP;IAAT,CAAD,CAAhB;EAEA,CAJQ,EAIP,CAACG,mBAAD,EAAsBF,QAAtB,CAJO,CAAT;EAOAS,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCZ,YAAnC;;EAGA,MAAMa,eAAe,GAAC,MAAI;IAEvBV,WAAW,CAACD,QAAQ,IAAE,CAACA,QAAZ,CAAX;EAEF,CAJD;;EAMA,MAAMY,qBAAqB,GAAEC,UAAD,IAAc;IAEvCJ,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BG,UAA5B;IACAhB,qBAAqB,CAACD,kBAAkB,IAAEiB,UAArB,CAArB;EAEF,CALD;;EAWJ,oBAAO;IAAK,SAAS,EAAExB,OAAO,CAACyB,YAAxB;IAAA,wBAEH;MAAQ,IAAI,EAAC,QAAb;MAAsB,SAAS,EAAEzB,OAAO,CAAC0B,mBAAzC;MAA8D,OAAO,EAAEX,0BAAvE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAFG,EAIDF,mBAAmB,iBAClB,QAAC,sBAAD;MAAwB,WAAW,EAAEP,KAAK,CAACY,WAA3C;MACe,OAAO,EAAEF;IADxB;MAAA;MAAA;MAAA;IAAA,QALA,EAUDT,kBAAkB,KAAK,IAAvB,IAA+BE,YAAY,KAAI,IAA/C,IAAuDA,YAAY,CAACkB,GAAb,CAAiB,CAACC,WAAD,EAAcC,KAAd,KAAsB;MAE3F,oBAAO,QAAC,gBAAD;QACW,WAAW,EAAED,WADxB;QAEW,QAAQ,EAAEN,eAFrB;QAGW,MAAM,EAAIhB,KAAK,CAACY,WAAN,CAAkBC,EAHvC;QAIW,cAAc,EAAII;MAJ7B,GAAuBM,KAAvB;QAAA;QAAA;QAAA;MAAA,QAAP;IAOC,CATmD,CAVtD,EAuBDtB,kBAAkB,KAAI,IAAtB,iBAEE,QAAC,iBAAD;MAAmB,UAAU,EAAIA;IAAjC;MAAA;MAAA;MAAA;IAAA,QAzBD;EAAA;IAAA;IAAA;IAAA;EAAA,QAAP;AAqCC,CArFD;;GAAMF,a;;KAAAA,a;AAwFN,eAAeA,aAAf"},"metadata":{},"sourceType":"module"}