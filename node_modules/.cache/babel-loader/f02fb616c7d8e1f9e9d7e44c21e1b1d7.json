{"ast":null,"code":"var _jsxFileName = \"/home/bibhu/CelpipSoftware/celpipSW/src/TestSite/TestSite.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport classes from './TestSite.module.css';\nimport { TextInput } from './../CommonApps/FormInputObjects';\nimport { verifycandidatefortestlogin } from './../CommonApps/AllAPICalls';\nimport TestHomePage from './TestHomePage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst TestSite = () => {\n  _s();\n\n  const initialFormData = Object.freeze({\n    name: \"\",\n    password: \"\"\n  });\n  const [formData, updateFormData] = useState(initialFormData);\n  const [testId, setTestId] = useState(null);\n  const [responseId, setResponseId] = useState(null);\n  const [testURL, setTestURL] = useState(null);\n  const [testPath, setTestPath] = useState(null);\n  const [authenticated, setAuthenticated] = useState(false);\n  useEffect(() => {\n    let testURL = window.location.href;\n    let pattern = '/takethistest/[1-9]+/[1-9]+';\n    let result = testURL.match(pattern);\n\n    if (result) {\n      let urlarray = testURL.split(\"/\");\n      let response_Id = urlarray[urlarray.length - 1];\n      let test_Id = urlarray[urlarray.length - 2];\n      setTestId(test_Id);\n      setResponseId(response_Id);\n      setTestPath(result + \"/\");\n    }\n  }, []);\n\n  const handleChange = e => {\n    updateFormData({ ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (formData.name === \"\") {\n      alert('please enter your name');\n      return null;\n    }\n\n    if (formData.password === \"\") {\n      alert('please enter password');\n      return null;\n    }\n\n    let examId = testId;\n    let password = formData.password;\n    let candName = formData.name;\n\n    if (testId !== null && responseId !== null && password !== null) {\n      verifycandidatefortestlogin({\n        examId,\n        responseId,\n        password,\n        setAuthenticated\n      });\n    }\n  };\n\n  console.log(\"formData: \", formData);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.testSite,\n    children: [!authenticated && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.homePageMessage,\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Welcome!! Are you ready to take the Test?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 3\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.loginInfo,\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(TextInput, {\n            handleChange: handleChange,\n            label: \"Full Name\",\n            name: \"name\",\n            placeholder: \"e.g. John Stupak\",\n            requirement: \"*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n            handleChange: handleChange,\n            label: \"Test Unique password\",\n            name: \"password\",\n            placeholder: \"e.g. 123426\",\n            requirement: \"*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"buttom\",\n            className: classes.submitButton,\n            children: \" Submit \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true), authenticated && /*#__PURE__*/_jsxDEV(Switch, {\n      children: /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: testPath,\n        children: /*#__PURE__*/_jsxDEV(TestHomePage, {\n          examId: testId,\n          responseId: responseId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 12\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 8\n  }, this);\n};\n\n_s(TestSite, \"EB44EU4AOJQY8BlBy/U1a+Y4qfc=\");\n\n_c = TestSite;\nexport default TestSite;\n\nvar _c;\n\n$RefreshReg$(_c, \"TestSite\");","map":{"version":3,"names":["useState","useEffect","Route","Switch","useHistory","classes","TextInput","verifycandidatefortestlogin","TestHomePage","TestSite","initialFormData","Object","freeze","name","password","formData","updateFormData","testId","setTestId","responseId","setResponseId","testURL","setTestURL","testPath","setTestPath","authenticated","setAuthenticated","window","location","href","pattern","result","match","urlarray","split","response_Id","length","test_Id","handleChange","e","target","value","handleSubmit","preventDefault","alert","examId","candName","console","log","testSite","homePageMessage","loginInfo","submitButton"],"sources":["/home/bibhu/CelpipSoftware/celpipSW/src/TestSite/TestSite.js"],"sourcesContent":["import {useState,useEffect} from 'react';\nimport {Route,Switch, useHistory} from 'react-router-dom';\n\n\nimport classes from './TestSite.module.css';\n\nimport { TextInput } from './../CommonApps/FormInputObjects';\n\nimport {verifycandidatefortestlogin} from './../CommonApps/AllAPICalls';\n\nimport TestHomePage from './TestHomePage';\n\n\nconst TestSite=()=>{\n\n\n\n    const initialFormData = Object.freeze({\n        name: \"\",\n        password: \"\",\n        });\n\n    const [formData, updateFormData] = useState(initialFormData);\n\n\n    const [testId,setTestId] = useState(null);\n\n    const [responseId, setResponseId] = useState(null);\n\n    const [testURL, setTestURL] = useState(null);\n\n    const [testPath, setTestPath]= useState(null);\n\n \n    const [authenticated, setAuthenticated] = useState(false);\t\n\n\n    useEffect(()=>{\n\n     let testURL=window.location.href;\n     let pattern = '/takethistest/[1-9]+/[1-9]+';\n     let result = testURL.match(pattern);\n\n     if (result) {\n       let urlarray=testURL.split(\"/\");\n\n\n       let response_Id = urlarray[urlarray.length-1];\n       let test_Id = urlarray[urlarray.length-2];\n\n\n       setTestId(test_Id);\n       setResponseId(response_Id);\n       setTestPath(result+\"/\");\n     }\n\n    },[]);\n\n\n\n\n\n\n\n   const handleChange=(e)=>{\n    updateFormData({\n                        ...formData,\n                        [e.target.name]: e.target.value,\n                });\n \n   }\n\n\n\n   const handleSubmit=(e)=>{\n    e.preventDefault();\n\n     if(formData.name === \"\" ){\n            alert('please enter your name');\n                        return null;\n          }\n  \n     if(formData.password === \"\" ){\n            alert('please enter password');\n                        return null;\n          }\n\t   \n     let examId=testId;\n    \n     let password=formData.password;\t\n     let candName = formData.name;\t   \n     if(testId !==null && responseId !==null && password !==null){\n          verifycandidatefortestlogin({examId, responseId, password, setAuthenticated});\t   \n     }\n\n   }\n\n\n\n\n\n  console.log(\"formData: \",formData );\n\n\n\nreturn <div className={classes.testSite}>\n\n\n       { !authenticated && <>\t\t\n         <div className={classes.homePageMessage}> \n\t\t<h2>Welcome!! Are you ready to take the Test?</h2> \n         </div>\n\n         <div className={classes.loginInfo}>\n\t     <form  onSubmit={handleSubmit}>  \n             <TextInput handleChange={handleChange}\n                  label=\"Full Name\"\n                  name=\"name\"\n                  placeholder=\"e.g. John Stupak\"\n                  requirement=\"*\"\n                  />\n\n              <TextInput handleChange={handleChange}\n                  label=\"Test Unique password\"\n                  name=\"password\"\n                  placeholder=\"e.g. 123426\"\n                  requirement=\"*\"\n                  />\n\n\n             <button type=\"buttom\" className={classes.submitButton}> Submit </button>\n\n\n\t     </form> \n         </div>\n        </>\n       }\n\n\n\n      { authenticated && \n      <Switch>\n           <Route exact path={testPath} >\n                   <TestHomePage examId={testId} responseId={responseId}/>\n           </Route>\n      </Switch>\n      }\n\n\n\n\n\n\n</div>\n\n\n}\n\nexport default TestSite;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}